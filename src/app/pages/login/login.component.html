<ion-content class="login-container">
  <div class="logo-container">
    <ion-icon name="snow-outline" class="app-logo"></ion-icon>
    <h2>Fridge Manager</h2>
    <p>Keep track of what's fresh and what's missing!</p>
  </div>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <ion-list>
      <ion-item>
        <ion-input
          type="email"
          fill="solid"
          label="Email"
          labelPlacement="stacked"
          formControlName="email"
          [errorText]="emailErrorText"
          placeholder="Enter your email"
        ></ion-input>
        <ion-icon
          *ngIf="loginForm.get('email')?.dirty && loginForm.get('email')?.valid"
          name="checkmark-circle-outline"
          color="success"
          slot="end">
        </ion-icon>
        <ion-icon
          *ngIf="loginForm.get('email')?.dirty && loginForm.get('email')?.invalid"
          name="alert-circle-outline"
          color="danger"
          slot="end">
        </ion-icon>
      </ion-item>

      <ion-item>
        <ion-input
          type="password"
          fill="solid"
          label="Password"
          labelPlacement="stacked"
          formControlName="password"
          [errorText]="passwordErrorText"
          placeholder="Enter your password"
        ></ion-input>
        <ion-icon
          *ngIf="loginForm.get('password')?.dirty && loginForm.get('password')?.valid"
          name="checkmark-circle-outline"
          color="success"
          slot="end">
        </ion-icon>
        <ion-icon
          *ngIf="loginForm.get('password')?.dirty && loginForm.get('password')?.invalid"
          name="alert-circle-outline"
          color="danger"
          slot="end">
        </ion-icon>
      </ion-item>
    </ion-list>

    <ion-button expand="block" type="submit" color="primary">Login</ion-button>

    <ion-button expand="block" fill="clear">
      Forgot Password?
    </ion-button>

    <div class="divider">
      <span>or</span>
    </div>

    <ion-button (click)="handleGoogleSignIn()" expand="block" fill="outline" color="tertiary">
      <div id="google-login-button" style="display: none"></div>
      <ion-icon name="logo-google" slot="start"></ion-icon>
      Login with Google
    </ion-button>
  </form>
  <div class="signup-container">
    <p>New to Fridge Manager?</p>
    <ion-button expand="block" fill="outline" color="success" (click)="navigatetoRegistration()">
      Sign Up
    </ion-button>
  </div>
</ion-content>
